# 密码学知识

## Hash

哈希函数的复合

## Merkle Tree

早期用来做广播分播。现在做区块头

父节点被给了一个hash值，这个hash是由俩孩子算出来的

![image-20210928082310496](C:/Users/16834/Desktop/%E5%8C%BA%E5%9D%97%E9%93%BE%E7%AC%94%E8%AE%B0/image-20210928082310496.png)

应用：要证明 $x_1$ 被根节点涵盖，只要知道这条路径上的 siblings ，一步步上推到根，复杂度是o(logn)，而不是像查账一个一个查o(n)。

## Hash Pointer

在指针的同时可以验证是否被篡改

存储

- 区块链
  - 通过hash指针创建一个链表
  - 当前区块头存储的是上一个区块的hash

### 防篡改日志

更改了其中一个区块的数据，后面的区块头都会更改

### Proof of Membership

迅速找出：是否在分布式账本里

### Proof of Nonmenbership

==**思考题**==

## 公钥

原理类似传信加密

如何分发秘钥？在互联网传递不安全。

- 加密的秘钥和解密的秘钥不一样

### RSA公钥加密算法

公钥`KU={e,n}`，e是公钥

私钥`KU={d,n}`，d是私钥

n=pq

> 这里的加密在于，n的分解如果你事先不知道的话，很难做

？？？？？？？？？？？？？？

想给对方发消息只要查一查对方的公钥就可以了。

**公钥、数字证书**：可信的第三方

表面上看RSA很安全，但是需要好的部署。（p和q因为是随机生成的，很有可能是雷同的，因此有被破解的可能性）

## 椭圆曲线数字签名算法 ECC

> 比上面的更安全，因为n也不是不可以分解。

?????????????

使用ECDSA时，确保随机性良好来源至关重要，因为不良来源将可能导致密钥信息 的泄露。

## 数字签名 

`(sk, pk) :=generateKeys(keysize)`：generateKeys方法把keysize作为输 入，来产生一对公钥和私钥。私钥sk被安全保存，并用来签名一段消息；公钥pk是人 人都可以找到的，拿到它，就可以用来验证你的签名。

` sig:=sign(sk, message)`：签名过程是把一段消息和私钥作为一个输入，对于 消息输出是签名。

`isValid:=verify(pk, message, sig)`：如果返回的结果是真，证明签名属实；如果返回的结果为假，证 明签名消息为假。

- 有效签名可以通过验证，即：

  ```
  verify(pk, message, sign(sk, message))==true
  ```

- 签名不可以伪造



DSS

### 不可伪造性游戏