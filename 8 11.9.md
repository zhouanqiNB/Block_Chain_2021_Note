# 3.5 比特币网络

## Flood algorithm

区块越小越有利于传播，在少数时间可以传播到更多的节点

## 区块节点的分类

- 全节点：把完整的共识区域存储下来

  一般是挖矿的是全节点。

- 轻量节点：只存储跟他们所关心的、需要核验的部分交易

  Simple Payment Verification客户端，SPV节点值验证相关的交易。

# 3.6 限制与优化

## tps

一个块大约4000个交易。

10分钟出块，所以tps大约是7笔交易/s。

(有人声称他们的算法可以千笔/s，但那并不是共识。)

> 提高比特币的交易处理能力？

## 密码学的危机

使用的算法可能被攻破

量子计算机？**抗量子攻击**：ABCMint算法

## 硬分叉 & 软分叉

- 硬分叉：引入新的特性，必须全部升级，原来的**失效**

  （以太坊被攻击）

- 软分叉：老的节点仍然接受所有的区块，新的节点拒绝向下**兼容**。

  （MULTISIG的bug，没解决，只是公开承认）

# 4.1 简单的本地存储

储存比特币其实就是如何保存和管理比特币私钥。

- 可获取性，当你要用的时候，随时随地取用；
- 安全性，没有其他人可以动用你的比特币；
- 便利性，密钥管理应当简单易行的。

比特币钱包软件。

## 编码解码 (encoding keys)

- Base64->Base58(不包含 0 O I l + /)

  地址每一位有58种可能

- QR code

## 虚荣地址 (Vanity Address)

想要的话，只能不停地重复生成私钥， 直到私钥中包含希望出现的字符串。

```
1bonesEeTcABPjLzAb1VkFgySY6Zqu3sX
```

(所有的地址都是 1 开头的，代表支付到比特币地址的标准交易 or 标准的比特币转账流程)

# 4.2 热储存与冷储存

- 热储存，把比特币放在你的个人电脑里就像把钱放在钱包里带着。

- 冷储存，把比特币锁在其他地方。冷储存不联入互联网，是封存起来的。

  比如lenard他们挖矿的U盘。

## 分层确定性钱包

开头交换信息后，只要冷热两端维持一个同步的计数器，就可以分别生成正确的公私钥。

## 大脑钱包 Brain Wallet

一个高效的密码：whitesun13jinyellowriver2sealiu

<img src="C:/Users/16834/Desktop/%E5%8C%BA%E5%9D%97%E9%93%BE%E7%AC%94%E8%AE%B0/0052F473.jpg" alt="img" style="zoom:67%;" />

“用唐诗当秘钥外国人猜不到，因为他们对唐诗没研究嘛。”中国人来骗中国人，笑死。

## 纸钱包

# 4.3 密钥分存&密钥共享

不可以直接切分，这样的话，每一个片段都会透露密钥的部分信息。

密钥被分成N个片段，只要我们获得其中的K个片段，就可以把原密钥重
新还原。但如果获得的片段数量少于K，就无法知道关于密钥的任何信息。





> 笑得，苏明上课当场翻课本
