# 5 比特币挖矿

## 5.1 矿工的任务

1. 验证交易和区块
2. 竞争出块并且获得奖励--鼓励做第一类任务

控制出块的速度

## 5.2 挖矿的条件

SHA-256

PoW: Proof of Work

### 软件

header_nonce, coinbase_nonce

谁第一个解除谜题就获得记录权

核心代码就是一些简单的循环遍历

### 硬件

evolution of mining

- CPU挖矿

  2^40以下可以找

- GPU挖矿

  SIMD、并行、提高性能

  > 笑得一堆显卡挖矿

  缺点：非常耗电

- FPGA---哈哈麻了体系结构让我死

  可支持简单编程

  缺点：经常故障和报错，性能功耗比不好

- ASIC专门定制的集成电路来挖矿

  - 应用需求驱动

  - 运营成本高，电力、冷却

    > 啊这挖矿确实像是在毫无意义地烧电、、、和元宇宙差不多、、、

- 挖矿中心

  气候、电费、网络速度

### 争议

ASIC和专业挖矿中心背离了比特币设计的初衷：完全去中心化。这引起了争议。

- 去中心化的挖矿机制？

  算力去中心化：你算力提高不一定会带来多大的挖矿的提升。

## 5.3 能耗和生态环保

挖矿消耗能源

- 内涵的能源--生产矿机
- 挖矿的时候烧电
- 为了防止矿机出问题要冷却

> 苏明：最近实验室做共识协议，ip被检测到了、、、以为我们在挖矿。

能源循环，笑死了：你用电挖矿，矿机发热，热量在用来干啥，**数据火炉**，data furnace

## 5.4 矿池

单个矿工的挖矿风险

- 泊松分布可以用来描述 挖到矿的分布

矿池管理员给分红，避免个体差异很大，就是说比如你一年都没收入，但是只要群体有收入你就有分红。

- 投机矿工

-----

好处：

- 小矿工容易参与，只要提供算力和电力就有收益

缺点：

- 中心化管理

## 5.5 挖矿的激励和策略

4个问题

### 分叉攻击forking attack/双花

- 因为规则是哪个在比较长的链里选哪个
- 构造一个更长的假的链--比如举国之力(?)
- =
- 中心化的攻击者可能不需要那么多算力也可以构造出来，broadcast快，就行。

### 黑名单与惩罚分叉攻击

宣布拒绝在包含来自该地址的交易的区块链上工作--美国制裁伊朗

